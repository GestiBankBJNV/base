package fr.eni.spring.expert.service.impl.dao;

import java.util.List;

import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.stereotype.Component;
import org.springframework.stereotype.Service;

import fr.eni.spring.expert.Expert;
import fr.eni.spring.expert.dao.ExpertDAO;
import fr.eni.spring.expert.service.impl.IChargerExpert;

@Service
public class ChargeurExpertDAO implements IChargerExpert {

	@Override
	public List<Expert> chargerExperts() {
		ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
		ExpertDAO dao = context.getBean(ExpertDAO.class);
		List<Expert> experts = dao.getAll();
		context.close();
		return experts;
	}

}
